/* Global mobile overflow fix */
html,
body {
  max-width: 100% !important;
  overflow-x: hidden !important;
}

@media (min-width: 992px) {
  .nw-main-bx {
    flex: 0 0 auto;
    width: 62.666667%;
  }

  .right-side-bar {
    flex: 0 0 auto;
    width: 37.333333%;
  }
}

@media (min-width: 769px) {
  .popup-close-btn {
    display: none !important;
  }
}

@media (max-width: 991px) {
  /* Global box-sizing for mobile to prevent border clipping */
  * {
    box-sizing: border-box;
  }

  /* Force everything to fit viewport */
  html,
  body,
  #root {
    max-width: 100% !important;
    overflow-x: hidden !important;
    width: 100% !important;
  }

  .nw-user-info-bx {
    flex-direction: column;
    gap: 10px;
    align-items: start;
    padding-top: 15px;
  }

  .alpha-user-details img {
    width: 64px;
    height: 64px;
  }

  .app {
    height: auto !important;
    min-height: 100vh;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    max-width: 100% !important;
    width: 100% !important;
  }

  .main {
    height: auto !important;
    min-height: 100vh;
    overflow: visible !important;
    max-width: 100% !important;
    width: 100% !important;
  }

  .content {
    overflow-y: auto !important;
    height: auto !important;
    min-height: 0;
    padding: 8px 16px !important;
    grid-template-columns: 1fr;
    max-width: 100% !important;
    width: 100% !important;
    box-sizing: border-box !important;
  }

  .right-side-bar {
    border-left: 0px;
  }

  .custom-tab-content {
    max-height: none !important;
    overflow-y: visible !important;
  }

  /* Fix container widths - force 100% */
  .row {
    margin-left: 0 !important;
    margin-right: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  .col-lg-4,
  .col-lg-8 {
    padding-left: 0 !important;
    padding-right: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
    flex: 0 0 100% !important;
  }

  .col-lg-5 {
    padding-left: 8px !important;
    padding-right: 8px !important;
    width: 100% !important;
    max-width: 100% !important;
    flex: 0 0 100% !important;
  }

  section {
    max-width: 100% !important;
    width: 100% !important;
    box-sizing: border-box !important;
  }

  /* Market box responsiveness */
  .market-bx {
    max-width: 100% !important;
    width: 100% !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
  }

  .ultra-pro-bx {
    padding: 16px !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  .market-title-bx h6 {
    font-size: 12px;
    padding: 10px 0;
  }

  /* Trade box responsiveness */
  .trade-box {
    padding: 6px !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  .trade-row {
    flex-wrap: nowrap;
    gap: 6px;
    justify-content: space-between;
  }

  .amount-box {
    text-align: right;
  }

  .amount-box h2 {
    font-size: 14px !important;
  }

  .amount-box span {
    font-size: 9px !important;
  }

  /* === HOT COINS CARD FIX === */
  .hot-coins-card {
    overflow: hidden !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  .coin-row {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: nowrap !important;
    gap: 4px !important;
    padding: 6px 0 !important;
    align-items: center !important;
    max-width: 100% !important;
    justify-content: flex-start !important;
  }

  .coin-row .quick-buy-btn {
    display: block !important;
  }

  .coin-left {
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
    flex: 1 !important;
    min-width: 0 !important;
    overflow: hidden !important;
  }

  .coin-info {
    min-width: 0 !important;
    flex: 1 !important;
    overflow: hidden !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 2px !important;
  }

  .coin-title {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 3px !important;
    align-items: center !important;
  }

  /* .coin-name {
    font-size: 11px !important;
  } */

  .coin-sub {
    font-size: 9px !important;
    display: none !important;
  }

  .coin-badge {
    font-size: 8px !important;
    padding: 1px 3px !important;
  }

  .coin-meta {
    font-size: 9px !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    max-width: 100% !important;
  }

  .coin-circle {
    width: 40px !important;
    height: 40px !important;
    min-width: 40px !important;
    font-size: 11px !important;
  }

  .coin-img {
    width: 40px !important;
    height: 40px !important;
    min-width: 40px !important;
  }

  .rank {
    font-size: 9px !important;
    min-width: 16px !important;
  }

  /* Plan buttons list - wrap on mobile */
  .plan-btn-list {
    flex-wrap: wrap !important;
    gap: 3px !important;
  }

  .plan-btn {
    font-size: 10px !important;
    /* padding: 3px 5px !important; */
  }

  .left-crd-content {
    text-align: end;
  }

  /* Custom tabs */
  .custom-tabs {
    display: flex !important;
    flex-wrap: nowrap !important;
    overflow-x: auto !important;
  }

  .custom-tabs .nav-link {
    font-size: 12px !important;
    padding: 4px 16px !important;
  }

  /* Rate box */
  .rate-box {
    padding: 6px !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  .rate-box h5 {
    font-size: 10px !important;
  }

  .rate-box span {
    font-size: 9px !important;
  }

  /* Connect wallet button */
  .connect-wallet-btn {
    font-size: 12px !important;
    padding: 8px !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* Quick buy box hide on mobile */
  /* .nw-quick-bx {
    display: none !important;
  } */

  /* Search form full width */
  .custom-frm-bx {
    margin-bottom: 12px !important;
    max-width: 100% !important;
  }

  .custom-frm-bx.flex-grow-1 {
    flex: 1 !important;
  }

  .custom-frm-bx .form-control {
    font-size: 10px !important;
  }

  /* Header adjustments */
  .header {
    flex-wrap: wrap !important;
    gap: 8px !important;
    padding: 6px 8px !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  .tp-header-bx {
    flex-wrap: wrap !important;
  }

  /* Trading header */
  .trading-icon-title {
    font-size: 9px !important;
  }

  .visualize-icon-title {
    font-size: 9px !important;
  }

  /* Trending coins bar */
  .nw-coins-sticky {
    overflow-x: auto !important;
    padding: 6px !important;
    max-width: 100% !important;
  }

  /* d-flex containers */
  .d-flex {
    max-width: 100% !important;
  }

  /* Market card fixes */
  .market-card {
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* Labels positioning */
  .trade-label {
    font-size: 9px !important;
  }

  /* Swap icon */
  .swap-icon {
    font-size: 14px !important;
  }

  .nw-market-bx::after {
    content: "";
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100%;
    height: 1px;
    background: #141414;
  }

  .category-remove-filting ul {
    flex-wrap: wrap;
  }

  .mobile-tabling-list {
    flex-direction: column;
  }

  .mobile-searching-bx {
    flex-direction: column;
    gap: 12px;
  }

  .search-container {
    width: 100%;
  }

  .nw-quick-bx {
    width: 100%;
  }

  .nw-quick-bx .quick-btn {
    line-height: 0px;
  }

  /* Mobile filter buttons alignment */
  .plan-btn {
    justify-content: space-between !important;
    text-align: left !important;
  }

  /* Filter icon button - center aligned */
  .plan-btn.d-block {
    justify-content: center !important;
    text-align: center !important;
    display: flex !important;
  }
}

@media (max-width: 768px) {
  .custom-card {
    gap: 10px !important;
    flex-direction: column !important;
    align-items: normal !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  .sell-trade-bx {
    justify-content: center !important;
  }

  .right-info {
    text-align: left !important;
    justify-content: end !important;
  }

  .nw-portfolio-card {
    height: 210px !important;
  }

  /* Toast responsive styles */
  .coppied-address {
    padding: 8px 12px !important;
    max-width: calc(100vw - 24px) !important;
  }

  .coppied-content {
    gap: 8px !important;
  }

  .coppied-content p {
    font-size: 12px !important;
    line-height: 130% !important;
  }

  .coppied-icon {
    font-size: 18px !important;
  }

  .coppied-btn {
    padding: 5px 8px !important;
    font-size: 10px !important;
  }

  .nw-sign-frm {
    padding: 10px !important;
    max-width: calc(100vw - 24px) !important;
  }

  .nw-sign-frm h5 {
    font-size: 12px !important;
  }

  .nw-sign-frm p {
    font-size: 11px !important;
  }

  /* === TELEGRAM SUBSCRIPTION PAGE MOBILE FIX === */
  .telegram-subscription-section {
    padding: 16px 8px !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
  }

  .telegram-subscription-section .row {
    margin: 0 !important;
    padding: 0 !important;
  }

  .telegram-subscription-section .col-lg-5 {
    padding: 0 8px !important;
  }

  .telegram-subscription-section .alpha-profile-card {
    max-width: 100% !important;
    margin-bottom: 16px !important;
  }

  .telegram-subscription-section .subscripton-bx {
    max-height: 60vh !important;
    overflow-y: auto !important;
  }

  /* === WHALE/KOL ALERT POPUP MOBILE FIX === */
  /* Revert to sticky behavior (absolute relative to button) */
  .filter-dropdown-menu {
    position: absolute !important;
    top: 100% !important;
    bottom: auto !important;
    left: auto !important;
    transform: none !important;
    max-width: 90vw !important;
    max-height: 400px !important;
    overflow-y: auto !important;
    z-index: 1000 !important;
    width: auto !important;
    min-width: 160px !important;
    margin-top: 5px !important;
  }

  /* Handle alignment to prevent off-screen overflow */
  .plan-btn-list li:nth-child(1) .filter-dropdown-menu,
  .plan-btn-list li:nth-child(2) .filter-dropdown-menu {
    left: 0 !important;
    right: auto !important;
  }

  .plan-btn-list li:nth-child(3) .filter-dropdown-menu,
  .plan-btn-list li:nth-child(4) .filter-dropdown-menu {
    right: 0 !important;
    left: auto !important;
  }

  .filter-dropdown-menu.w-sm {
    width: 280px !important;
    max-width: 90vw !important;
  }

  .filter-dropdown-menu.w-xs {
    width: 220px !important;
    max-width: 85vw !important;
  }

  /* Overlay for mobile popups */
  .mobile-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    z-index: 999; /* Below dropdown (1000) but above everything else */
    pointer-events: auto;
    cursor: default;
  }

  /* Dropdown Header Alignment */
  .filter-dropdown-header {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    padding-right: 8px !important; /* Space for close button if needed */
  }

  /* Close button for mobile popups */
  .popup-close-btn {
    display: flex !important;
    background: transparent;
    border: none;
    color: #fff;
    width: 24px;
    height: 24px;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 14px;
    padding: 0;
    margin-left: auto; /* Push to right if not in space-between flex */
  }

  /* Remove absolute positioning since we are putting it in flex header */
  .filter-dropdown-menu .popup-close-btn {
    position: static !important;
  }

  /* Specific adjustment for Subscription/KOL Alert popup */
  /* Re-align close button in the sub-drop-header */
  .sub-drop-header .popup-close-btn {
     position: static !important;
     margin-left: auto;
  }
}

@media (min-width: 769px) {
  .popup-close-btn {
    display: none !important;
  }
  .mobile-overlay {
    display: none !important;
  }
}

@media (max-width: 768px) {
  .parent-dropdown-content {
    padding: 12px !important;
  }

  .sub-drop-header {
    flex-direction: row !important;
    gap: 12px !important;
    align-items: center !important;
    justify-content: space-between !important;
  }

  .subscription-dropdown-menu {
    position: relative !important;
    max-height: 300px !important;
    overflow-y: auto !important;
  }

  /* Config overlay modal mobile fix */
  .config-overlay {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    z-index: 10000 !important;
    padding: 16px !important;
  }

  .config-modal {
    max-width: 90vw !important;
    max-height: 80vh !important;
    overflow-y: auto !important;
    width: 100% !important;
  }
}
